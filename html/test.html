<html>
<head>
	<title>line control test</title>
	<script type="text/javascript" charset="utf-8" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	<script type="text/javascript" src="../javascripts/spherical_formulas.js"></script>
	<script type="text/javascript" src="../javascripts/polylineEnableEdit.js"></script>
</head>

<body>
	<div id="map_canvas" style="width:400px;height:300px;"></div>

	<a href="#" id="btnEnableDrawing">Enable Drawing</a>
	<a href="#" id="btnEnableEditing">Enable Editing</a>
	<a href="#" id="btnDisableEditing">Disable Editing</a>

	<script type="text/javascript">
		  var poly;
		  var map;

		  function initialize() {
			var chicago = new google.maps.LatLng(41.879535, -87.624333);
			var myOptions = {
			  zoom: 7,
			  center: chicago,
			  mapTypeId: google.maps.MapTypeId.ROADMAP
			};

			map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
			var path = new google.maps.MVCArray();

			var polyOptions = {
			  strokeColor: '#000000',
			  strokeOpacity: 1.0,
			  strokeWeight: 3,
			  clickable: true,
			  geodesic: false,
			  path: path
			}
			
			poly = new google.mapsextensions.Polyline(polyOptions);
			poly.setMap(map);
			
		  }

		  initialize();
	
		$( '#btnEnableEditing' ).bind( 'click', function( event ) {
			event.preventDefault();
			
			poly.enableEditing();
		} );

		$( '#btnEnableDrawing' ).bind( 'click', function( event ) {
			event.preventDefault();
			
			poly.enableDrawing();
		} );

		$( '#btnDisableEditing' ).bind( 'click', function( event ) {
			event.preventDefault();

			poly.disableEditing();
		} );
	</script>

</body>
</html>