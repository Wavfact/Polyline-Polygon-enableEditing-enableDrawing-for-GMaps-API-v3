<html>
<head>
	<title>Polyline enableDrawing/enableEditing test</title>
	<script type="text/javascript" charset="utf-8" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	<script type="text/javascript" src="../javascripts/spherical_formulas.js"></script>
	<script type="text/javascript" src="../javascripts/polylineEnableEdit.js"></script>
</head>

<body>
	<div id="map_canvas" style="width:400px;height:300px; float: left"></div>
	<div style="float: left;">
		<ol>
			<li>To start adding points, click Enable Drawing</li>
			<li>To add new points to the line or to move points, click Enable Editing</li>
			<li>To disable both modification of the line and points, click Disable Editing</li>
			<li>To drag a marker, mouse over the marker, press the mouse button down, move the mouse around, let go of the button.</li>
		</ol>
	</ul>

	<a href="#" id="btnEnableDrawing">Enable Drawing</a>
	<a href="#" id="btnEnableEditing">Enable Editing</a>
	<a href="#" id="btnDisableEditing">Disable Editing</a>

	<script type="text/javascript">
		  var poly;
		  var map;

		  function initialize() {
			var chicago = new google.maps.LatLng(41.879535, -87.624333);
			var myOptions = {
			  zoom: 7,
			  center: chicago,
			  mapTypeId: google.maps.MapTypeId.ROADMAP
			};

			map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
			var path = new google.maps.MVCArray();

			var polyOptions = {
			  strokeColor: '#000000',
			  strokeOpacity: 1.0,
			  strokeWeight: 3,
			  clickable: true,
			  geodesic: false,
			  path: path
			}
			
			poly = new google.mapsextensions.Polyline(polyOptions);
			poly.setMap(map);
			
		  }

		  initialize();
	
		$( '#btnEnableEditing' ).bind( 'click', function( event ) {
			event.preventDefault();
			
			poly.enableEditing();
		} );

		$( '#btnEnableDrawing' ).bind( 'click', function( event ) {
			event.preventDefault();
			
			poly.enableDrawing();
		} );

		$( '#btnDisableEditing' ).bind( 'click', function( event ) {
			event.preventDefault();

			poly.disableEditing();
		} );
	</script>
	<script type="text/javascript">
		if( document.location.host.search( 'shanetomlinson' ) > -1 ) {
			var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
			document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-9481964-1");
			// Cookied already:
			pageTracker._trackPageview();
		} catch(err) {}
599</script> 
</body>
</html>